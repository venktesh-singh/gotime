"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6583],{43691:function(e,t,a){a.d(t,{eJ:function(){return s}});var n=a(74569),i=a.n(n),r=a(40077),s=function(e){return function(t){console.log("Redux Event",e),i().post(r._+"/event/",e).then((function(e){t({type:"UPDATE_EVENT",payload:e.data})})).catch((function(e){console.error("Error updating event:",e)}))}}},19391:function(e,t,a){var n=a(57621),i=a(93457),r=a(52791),s=a(80184),l=(0,i.Z)(n.Z)((function(){return{height:"100%",padding:"20px 24px"}})),o=(0,i.Z)("div")((function(e){return{fontSize:"1.2rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!e.subtitle&&"16px"}}));t.Z=function(e){var t=e.children,a=e.title,n=e.subtitle;e.icon;return(0,s.jsxs)(l,{elevation:6,children:[(0,s.jsx)(o,{subtitle:n,children:a}),n&&(0,s.jsx)(r.Z,{sx:{mb:2},children:n}),t]})}},66583:function(e,t,a){a.r(t);var n=a(74165),i=a(15861),r=a(4942),s=a(1413),l=a(70885),o=a(72791),d=a(16030),u=a(19598),m=a(66934),c=a(36151),p=a(36314),f=a(61889),h=a(19391),v=a(67394),x=a(21686),g=a(10838),_=a(43691),y=a(72426),b=a.n(y),j=a(80184),E=(0,m.ZP)(g.bM)((function(e){e.theme;return{width:"100%",marginBottom:"16px"}})),N=(0,m.ZP)("div")((function(e){e.theme;return{margin:"30px"}}));t.default=function(){var e=(0,d.I0)(),t=(0,u.k6)(),a=(0,u.TH)().state.subscriber,m=(0,o.useState)({event_name:a.event_name||"",description:a.description||"",start_time:b()(a.start_time,"HH:mm").format("HH:mm")||"",end_time:b()(a.end_time,"HH:mm").format("HH:mm")||"",event_date:b()(a.event_date).format("YYYY-MM-DD"),address:a.address||"",max_players:a.max_players||"",location_hint:a.location_hint||""}),y=(0,l.Z)(m,2),Z=y[0],q=y[1];(0,o.useEffect)((function(){return g.WS.addValidationRule("isNameNotEmpty",(function(e){return 0!==e.trim().length})),function(){g.WS.removeValidationRule("isNameNotEmpty")}}),[]);var T=function(e){var t=e.target,a=t.name,n=t.value;q((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},a,n))}))},P=function(){var a=(0,i.Z)((0,n.Z)().mark((function a(i){return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i.preventDefault(),a.prev=1,a.next=4,fetch("https://go-time.onrender.com/api/event/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});case 4:a.sent.ok&&(e((0,_.eJ)(Z)),t.push("/event/event-list")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("Error updating data:",a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return(0,j.jsx)("div",{children:(0,j.jsxs)(N,{children:[(0,j.jsxs)(c.Z,{sx:{mb:2,pl:1},variant:"contained",color:"primary",onClick:function(){t.goBack()},children:[(0,j.jsx)(v.Z,{"aria-label":"ArrowBackIcon","aria-haspopup":"true"}),"Back"]}),(0,j.jsx)(p.Z,{spacing:3,children:(0,j.jsx)(h.Z,{title:"Add New Event",children:(0,j.jsxs)(g.WS,{onSubmit:P,onError:function(){return null},children:[(0,j.jsx)(f.ZP,{container:!0,spacing:6,children:(0,j.jsxs)(f.ZP,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[(0,j.jsx)(E,{type:"text",fullWidth:!0,size:"small",name:"event_name",id:"event_name",value:Z.event_name,onChange:T,label:"Event name",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,j.jsx)(E,{type:"text",fullWidth:!0,size:"small",name:"description",id:"description",value:Z.description,onChange:T,label:"Description",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,j.jsx)(E,{type:"time",fullWidth:!0,size:"small",name:"start_time",id:"start_time",value:Z.start_time,onChange:T,label:"Start Time",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,j.jsx)(E,{type:"time",fullWidth:!0,size:"small",name:"end_time",id:"end_time",value:Z.end_time,onChange:T,label:"End Time",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,j.jsx)(E,{type:"date",fullWidth:!0,size:"small",name:"event_date",id:"event_date",value:Z.event_date,onChange:T,label:"Event Date",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,j.jsx)(E,{type:"number",fullWidth:!0,size:"small",name:"max_players",id:"max_players",value:Z.max_players,onChange:T,label:"Max players",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,j.jsx)(E,{fullWidth:!0,size:"small",name:"address",id:"address",value:Z.address,onChange:T,label:"Address",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,j.jsx)(E,{fullWidth:!0,size:"small",name:"location_hint",id:"location_hint",value:Z.location_hint,onChange:T,label:"Location Hint",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]})]})}),(0,j.jsxs)(c.Z,{color:"primary",variant:"contained",type:"submit",children:[(0,j.jsx)(x.Z,{"aria-label":"send","aria-haspopup":"true"}),"Update Event"]})]})})})]})})}}}]);
//# sourceMappingURL=6583.203a3149.chunk.js.map