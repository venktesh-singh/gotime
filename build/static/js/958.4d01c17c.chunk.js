"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[958],{70958:function(e,r,t){t.r(r),t.d(r,{default:function(){return O}});var a=t(74165),n=t(15861),i=t(70885),s=t(4942),o=t(72791),l=t(36314),d=t(93457),m=t(57621),u=t(52791),p=t(80184),c=(0,d.Z)(m.Z)((function(){return{height:"100%",padding:"20px 24px"}})),x=(0,d.Z)("div")((function(e){return{fontSize:"1.2rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!e.subtitle&&"16px"}})),h=function(e){var r=e.children,t=e.title,a=e.subtitle;e.icon;return(0,p.jsxs)(c,{elevation:6,children:[(0,p.jsx)(x,{subtitle:a,children:t}),a&&(0,p.jsx)(u.Z,{sx:{mb:2},children:a}),r]})},T=t(96285),f=t(36151),g=t(61889),v=t(92506),y=t(24929),b=t(16030),Z=t(74569),j=t.n(Z),B=t(40077),P=function(e){return function(r){console.log("Redux Slot",e),j().post(B._+"/slot/create_slot",e).then((function(e){r({type:"UPDATE_SLOT",payload:e.data})}))}},S=t(19598),k=t(75985),w=t(67394),C=(t(5462),t(72426)),q=t.n(C),H=(0,d.Z)("div")((function(e){var r,t=e.theme;return r={margin:"30px"},(0,s.Z)(r,t.breakpoints.down("sm"),{margin:"16px"}),(0,s.Z)(r,"& .breadcrumb",(0,s.Z)({marginBottom:"30px"},t.breakpoints.down("sm"),{marginBottom:"16px"})),r})),z=(0,d.Z)("form")((function(){return{paddingLeft:"16px",paddingRight:"16px"}})),_=(0,d.Z)(T.Z)((function(){return{marginBottom:"16px"}})),A=y.Ry().shape({sport:y.Z_().required("Sport name is required"),date:y.Z_().required("Date is required"),startTime:y.Z_().required("Start Time is required"),endTime:y.Z_().required("End Time is required"),maxPlayers:y.Z_().required("Max Players is required")}),D={sport:"",date:"",startTime:"",endTime:"",maxPlayers:""},O=function(){var e=(0,b.I0)(),r=(0,S.k6)(),t=(0,o.useState)(!1),s=(0,i.Z)(t,2),d=s[0],m=(s[1],function(){var t=(0,n.Z)((0,a.Z)().mark((function t(n){var i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=new FormData).append("sport",n.sport),i.append("maxPlayers",n.maxPlayers),i.append("startTime",q()(n.startTime,"HH:mm").format("HH:mm")),i.append("endTime",q()(n.endTime,"HH:mm").format("HH:mm")),s=q()(n.date).format("YYYY-MM-DD"),i.append("date",s),t.prev=7,t.next=10,e(P(i));case 10:k.Am.success("Slots Added Successfully!"),r.push("/slot/slot-list"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),console.error("Error adding slots:",t.t0),k.Am.error("Failed to add slots. Please try again later.");case 18:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(e){return t.apply(this,arguments)}}());return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.Ix,{position:"top-center",theme:"colored",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,p.jsxs)(H,{children:[(0,p.jsxs)(f.Z,{sx:{mb:2,pl:1},variant:"contained",color:"primary",onClick:function(){r.goBack()},children:[(0,p.jsx)(w.Z,{"aria-label":"ArrowBackIcon","aria-haspopup":"true"}),"Back"]}),(0,p.jsx)(l.Z,{spacing:3,children:(0,p.jsx)(h,{title:"Add New Slot",children:(0,p.jsx)(v.J9,{onSubmit:m,enableReinitialize:!0,initialValues:D,validationSchema:A,children:function(e){var r=e.values,t=e.errors,a=e.touched,n=e.handleChange,i=e.handleBlur,s=e.handleSubmit;return(0,p.jsxs)(z,{onSubmit:s,children:[(0,p.jsx)(g.ZP,{container:!0,spacing:3,children:(0,p.jsxs)(g.ZP,{item:!0,sm:6,xs:12,children:[(0,p.jsx)(_,{fullWidth:!0,name:"sport",label:"Sport Name",size:"small",variant:"outlined",onBlur:i,onChange:n,value:r.sport||"",error:Boolean(a.sport&&t.sport),helperText:a.sport&&t.sport}),(0,p.jsx)(_,{type:"date",name:"date",label:"Date",size:"small",variant:"outlined",onBlur:i,onChange:n,value:r.date||"",error:Boolean(a.date&&t.date),helperText:a.date&&t.date,style:{color:"#000",width:"100%"}}),(0,p.jsx)(_,{type:"time",name:"startTime",label:"Start Time",size:"small",variant:"outlined",onBlur:i,onChange:n,value:r.startTime||"",error:Boolean(a.startTime&&t.startTime),helperText:a.startTime&&t.startTime,style:{color:"#000",width:"100%"}}),(0,p.jsx)(_,{type:"time",name:"endTime",label:"End Time",size:"small",variant:"outlined",onBlur:i,onChange:n,value:r.endTime||"",error:Boolean(a.endTime&&t.endTime),helperText:a.endTime&&t.endTime,style:{color:"#000",width:"100%"}}),(0,p.jsx)(_,{fullWidth:!0,name:"maxPlayers",label:"Max Players",size:"small",variant:"outlined",onBlur:i,onChange:n,value:r.maxPlayers||"",error:Boolean(a.maxPlayers&&t.maxPlayers),helperText:a.maxPlayers&&t.maxPlayers})]})}),(0,p.jsx)(f.Z,{type:"submit",color:"primary",variant:"contained",sx:{mb:2,px:4},disabled:d,style:{marginTop:"10px"},children:d?"Uploading...":"Add Slot"})]})}})})})]})]})}}}]);
//# sourceMappingURL=958.4d01c17c.chunk.js.map