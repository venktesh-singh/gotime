"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[208],{43691:function(e,n,t){t.d(n,{eJ:function(){return o}});var r=t(74569),a=t.n(r),i=t(40077),o=function(e){return function(n){a().post(i._+"/event/",e).then((function(e){n({type:"UPDATE_EVENT",payload:e.data})})).catch((function(e){console.error("Error updating event:",e)}))}}},19391:function(e,n,t){var r=t(57621),a=t(93457),i=t(52791),o=t(80184),l=(0,a.Z)(r.Z)((function(){return{height:"100%",padding:"20px 24px"}})),s=(0,a.Z)("div")((function(e){return{fontSize:"1.2rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!e.subtitle&&"16px"}}));n.Z=function(e){var n=e.children,t=e.title,r=e.subtitle;e.icon;return(0,o.jsxs)(l,{elevation:6,children:[(0,o.jsx)(s,{subtitle:r,children:t}),r&&(0,o.jsx)(i.Z,{sx:{mb:2},children:r}),n]})}},80208:function(e,n,t){t.r(n);var r=t(74165),a=t(15861),i=t(70885),o=t(4942),l=t(72791),s=t(36314),d=t(93457),u=t(19391),c=t(96285),m=t(36151),p=t(61889),h=t(92506),v=t(24929),_=t(16030),x=t(43691),f=t(19598),g=t(75985),Z=t(72426),b=t.n(Z),y=t(67394),B=(t(5462),t(68639),t(80184)),j=(0,d.Z)("div")((function(e){var n,t=e.theme;return n={margin:"30px"},(0,o.Z)(n,t.breakpoints.down("sm"),{margin:"16px"}),(0,o.Z)(n,"& .breadcrumb",(0,o.Z)({marginBottom:"30px"},t.breakpoints.down("sm"),{marginBottom:"16px"})),n})),T=(0,d.Z)("form")((function(){return{paddingLeft:"16px",paddingRight:"16px"}})),q=(0,d.Z)(c.Z)((function(){return{marginBottom:"16px"}})),C=v.Ry().shape({event_name:v.Z_().required("Event name is required"),description:v.Z_().required("Description is required"),start_time:v.Z_().required("Start Time is required"),end_time:v.Z_().required("End Time is required"),event_date:v.Z_().required("Event Date is required"),max_players:v.Z_().required("Max Players is required"),address:v.Z_().required("Address is required"),location_hint:v.Z_().required("Location Hint is required")}),E={event_name:"",description:"",start_time:"",end_time:"",event_date:"",max_players:"",address:"",location_hint:""};n.default=function(){var e=(0,_.I0)(),n=(0,f.k6)(),t=(0,l.useState)(null),o=(0,i.Z)(t,2),d=o[0],c=o[1],v=(0,l.useState)(null),Z=(0,i.Z)(v,2),k=Z[0],w=Z[1];(0,l.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){c(e.coords.latitude),w(e.coords.longitude)}),(function(e){console.log(e.message)})):console.log("Geolocation is not supported by this browser.")}),[]);var z=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={event_name:t.event_name,description:t.description,start_time:b()(t.start_time,"HH:mm").format("HH:mm"),end_time:b()(t.end_time,"HH:mm").format("HH:mm"),address:t.address,event_date:b()(t.event_date).format("YYYY-MM-DD"),max_players:t.max_players,location_hint:t.location_hint,location:{latitude:d,longitude:k}},n.prev=1,n.next=4,e((0,x.eJ)(a));case 4:g.Am.success("Event Added Successfully!"),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),console.error("Error adding event:",n.t0),g.Am.error("Failed to add event. Please try again later.");case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(g.Ix,{position:"top-center",theme:"colored",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,B.jsxs)(j,{children:[(0,B.jsxs)(m.Z,{sx:{mb:2,pl:1},variant:"contained",color:"primary",onClick:function(){n.goBack()},children:[(0,B.jsx)(y.Z,{"aria-label":"ArrowBackIcon","aria-haspopup":"true"}),"Back"]}),(0,B.jsx)(s.Z,{spacing:3,children:(0,B.jsx)(u.Z,{title:"Add New Event",children:(0,B.jsx)(h.J9,{onSubmit:z,enableReinitialize:!0,initialValues:E,validationSchema:C,children:function(e){var n=e.values,t=e.errors,r=e.touched,a=e.handleChange,i=e.handleBlur,o=e.handleSubmit;return(0,B.jsxs)(T,{onSubmit:o,children:[(0,B.jsx)(p.ZP,{container:!0,spacing:3,children:(0,B.jsxs)(p.ZP,{item:!0,sm:6,xs:12,children:[(0,B.jsx)(q,{fullWidth:!0,name:"event_name",label:"Event name",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.event_name||"",error:Boolean(r.event_name&&t.event_name),helperText:r.event_name&&t.event_name}),(0,B.jsx)(q,{fullWidth:!0,name:"description",label:"Description",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.description||"",error:Boolean(r.description&&t.description),helperText:r.description&&t.description}),(0,B.jsx)(q,{type:"time",name:"start_time",label:"Start Time",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.start_time||"",error:Boolean(r.start_time&&t.start_time),helperText:r.start_time&&t.start_time,style:{color:"#000",width:"100%"}}),(0,B.jsx)(q,{type:"time",name:"end_time",label:"End Time",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.end_time||"",error:Boolean(r.end_time&&t.end_time),helperText:r.end_time&&t.end_time,style:{color:"#000",width:"100%"}}),(0,B.jsx)(q,{type:"date",name:"event_date",label:"Event Date",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.event_date||"",error:Boolean(r.event_date&&t.event_date),helperText:r.event_date&&t.event_date,style:{color:"#000",width:"100%"}}),(0,B.jsx)(q,{fullWidth:!0,name:"max_players",label:"Max players",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.max_players||"",error:Boolean(r.max_players&&t.max_players),helperText:r.max_players&&t.max_players}),(0,B.jsx)(q,{fullWidth:!0,name:"address",label:"Address",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.address||"",error:Boolean(r.address&&t.address),helperText:r.address&&t.address}),(0,B.jsx)(q,{fullWidth:!0,name:"location_hint",label:"Location Hint",size:"small",variant:"outlined",onBlur:i,onChange:a,value:n.location_hint||"",error:Boolean(r.location_hint&&t.location_hint),helperText:r.location_hint&&t.location_hint})]})}),(0,B.jsx)(m.Z,{type:"submit",color:"primary",variant:"contained",sx:{mb:2,px:4,marginTop:"10px"},children:"Add Event"})]})}})})})]})]})}},68639:function(){}}]);
//# sourceMappingURL=208.6aad760a.chunk.js.map