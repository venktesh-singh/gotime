"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3061],{13061:function(e,n,t){t.r(n);var r=t(1413),i=t(70885),a=t(4942),o=t(72791),l=t(91523),s=t(98472),c=t(66934),d=t(96285),h=t(79836),u=t(36151),x=t(39281),p=t(35527),m=t(57621),v=t(68870),f=t(56890),g=t(35855),Z=t(53994),j=t(53382),b=t(99875),w=t(44422),y=t(41286),E=t(31353),k=t(27247),S=t(72426),P=t.n(S),C=t(42419),D=t(80184),N=(0,c.ZP)("div")((function(e){var n,t=e.theme;return n={margin:"30px"},(0,a.Z)(n,t.breakpoints.down("sm"),{margin:"16px"}),(0,a.Z)(n,"& .breadcrumb",(0,a.Z)({marginBottom:"30px"},t.breakpoints.down("sm"),{marginBottom:"16px"})),n})),T=(0,c.ZP)(d.Z)((function(){return{marginBottom:"16px"}})),W=(0,c.ZP)(h.Z)((function(){return{minWidth:"1000",whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0,fontSize:"1rem"}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}}));n.default=function(){var e,n,t=(0,o.useState)(0),a=(0,i.Z)(t,2),c=a[0],d=a[1],h=(0,o.useState)([]),S=(0,i.Z)(h,2),_=S[0],I=S[1],B=(0,o.useState)(10),L=(0,i.Z)(B,2),A=L[0],M=L[1],Y=(0,o.useState)(""),z=(0,i.Z)(Y,2),U=z[0],R=z[1];(0,o.useEffect)((function(){fetch("https://gotimeapi.onrender.com/api/event/get").then((function(e){if(!e.ok)throw new Error("Error: "+e.status);return e.json()})).then((function(e){I(e)})).catch((function(e){console.error("Error fetching Event data:",e)}))}),[]);return(0,D.jsxs)(N,{children:[(0,D.jsxs)(u.Z,{sx:{mb:2,pl:1,"&:hover":{backgroundColor:"primary.main",color:"#fff"}},variant:"contained",color:"primary",component:l.rU,to:"/event/event-add",children:[(0,D.jsx)(C.Z,{"aria-label":"AddIcon","aria-haspopup":"true"}),"Add New Event"]}),(0,D.jsx)(T,{size:"small",type:"text",value:U,onChange:function(e){var n=e.target.value;R(n)},placeholder:"Search by event name",style:{float:"right",backgroundColor:"#fff"}}),(0,D.jsx)(x.Z,{component:p.Z,sx:{px:0},children:(0,D.jsx)(m.Z,{sx:{px:0,py:0},elevation:1,children:(0,D.jsxs)(v.Z,{width:"100%",overflow:"auto",children:[(0,D.jsxs)(W,{children:[(0,D.jsx)(f.Z,{children:(0,D.jsxs)(g.Z,{children:[(0,D.jsx)(Z.Z,{align:"center",sx:{fontWeight:"bold"},children:"S.No."}),(0,D.jsx)(Z.Z,{align:"center",sx:{fontWeight:"bold"},children:"Event Name"}),(0,D.jsx)(Z.Z,{align:"center",sx:{fontWeight:"bold"},children:"Description"}),(0,D.jsx)(Z.Z,{align:"center",sx:{fontWeight:"bold"},children:"Start Time"}),(0,D.jsx)(Z.Z,{align:"center",sx:{fontWeight:"bold"},children:"End Time"}),(0,D.jsx)(Z.Z,{align:"center",sx:{fontWeight:"bold"},children:"Date"}),(0,D.jsx)(Z.Z,{align:"center",sx:{fontWeight:"bold"},children:"Action"})]})}),(0,D.jsx)(j.Z,{children:null===_||void 0===_||null===(e=_.data)||void 0===e?void 0:e.filter((function(e){return e.event_name.toLowerCase().includes(U.toLowerCase())})).slice(c*A,c*A+A).map((function(e,n){return(0,D.jsxs)(g.Z,{children:[(0,D.jsx)(Z.Z,{align:"center",children:n+1}),(0,D.jsx)(Z.Z,{align:"center",children:e.event_name}),(0,D.jsx)(Z.Z,{align:"center",children:e.description}),(0,D.jsx)(Z.Z,{align:"center",children:e.start_time}),(0,D.jsx)(Z.Z,{align:"center",children:e.end_time}),(0,D.jsx)(Z.Z,{align:"center",children:P()(null===e||void 0===e?void 0:e.createdAt).format("MMMM Do YYYY")}),(0,D.jsxs)(Z.Z,{align:"center",children:[(0,D.jsx)(l.rU,{sx:{m:.5},variant:"contained",to:{pathname:"/event/event-detail",state:{subscriber:e}},name:"Event Details",children:(0,D.jsx)(E.Z,{"aria-label":"PreviewIcon","aria-haspopup":"true",children:(0,D.jsx)(b.Z,{color:"primary",children:"view"})})}),(0,D.jsx)(l.rU,{sx:{m:.5},variant:"contained",to:{pathname:"/event/event-edit",state:{subscriber:e}},name:"Event Edit",children:(0,D.jsx)(y.Z,{"aria-label":"EditIcon","aria-haspopup":"true",children:(0,D.jsx)(b.Z,{color:"primary",children:"edit"})})}),(0,D.jsx)(k.Z,{"aria-label":"delete","aria-haspopup":"true",children:(0,D.jsx)(b.Z,{color:"error",children:"close"})})]})]},n)}))})]}),(0,D.jsxs)(v.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:2},children:[(0,D.jsx)(u.Z,{variant:"contained",children:function(){if(!_||!_.data)return null;var e=_.data.map((function(e,n){return{SNo:n+1,"Event Name":e.event_name,Description:e.description,"Start Time":null===e||void 0===e?void 0:e.start_time,"End Time":null===e||void 0===e?void 0:e.end_time}})),n={filename:"event_data.csv",headers:[{label:"S.No.",key:"SNo"},{label:"Event Name",key:"Event Name"},{label:"Description",key:"Description"},{label:"Start Time",key:"Start Time"},{label:"End Time",key:"End Time"},{label:"Date",key:"Date"}]};return(0,D.jsx)(s.CSVLink,(0,r.Z)((0,r.Z)({data:e},n),{},{style:{color:"#fff",textDecoration:"none"},children:"Download CSV"}))}()}),(0,D.jsx)(w.Z,{sx:{px:2},page:c,component:"div",rowsPerPage:A,count:(null===_||void 0===_||null===(n=_.data)||void 0===n?void 0:n.length)||0,onPageChange:function(e,n){d(n)},rowsPerPageOptions:[10,20,30],onRowsPerPageChange:function(e){M(+e.target.value),d(0)},nextIconButtonProps:{"aria-label":"Next Page"},backIconButtonProps:{"aria-label":"Previous Page"}})]})]})})})]})}}}]);
//# sourceMappingURL=3061.5c3d0a2e.chunk.js.map