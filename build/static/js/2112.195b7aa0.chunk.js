"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2112],{92112:function(e,n,a){a.r(n),a.d(n,{default:function(){return _}});var r=a(1413),t=a(74165),i=a(15861),o=a(70885),s=a(4942),c=a(72791),l=a(36314),d=a(93457),u=a(52791),p=a(57621),m=a(80184),h=(0,d.Z)(p.Z)((function(){return{height:"100%",padding:"20px 24px"}})),g=(0,d.Z)("div")((function(e){return{fontSize:"1.2rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!e.subtitle&&"16px"}})),x=function(e){var n=e.children,a=e.title,r=e.subtitle;e.icon;return(0,m.jsxs)(h,{elevation:6,children:[(0,m.jsx)(g,{subtitle:r,children:a}),r&&(0,m.jsx)(u.Z,{sx:{mb:2},children:r}),n]})},f=a(36151),v=a(61889),Z=a(92506),b=a(24929),A=a(16030),j=a(74569),k=a.n(j),y=a(40077),w=function(){return function(e){k().get(y._+"/avatar").then((function(n){e({type:"GET_AVATAR_LIST",payload:n.data.user})}))}},S=function(e){return function(n){console.log("Redux Avatar",e);var a=new FormData;e.image&&a.append("image",e.image),k().post(y._+"/avatar",a).then((function(e){n({type:"UPDATE_AVATAR",payload:e.data})})).catch((function(e){console.error("Error adding/updating Avatar:",e)}))}},T=a(19598),B=a(75985),C=a(43954),D=a(67394),I=(a(5462),(0,d.Z)("div")((function(e){var n,a=e.theme;return n={margin:"30px"},(0,s.Z)(n,a.breakpoints.down("sm"),{margin:"16px"}),(0,s.Z)(n,"& .breadcrumb",(0,s.Z)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),n}))),P=(0,d.Z)("form")((function(){return{paddingLeft:"16px",paddingRight:"16px"}})),R=b.Ry().shape({image:b.Z_().required("Avatar Image is required")}),F={image:""},_=function(){var e=(0,A.I0)(),n=(0,T.k6)(),a=(0,c.useState)(null),s=(0,o.Z)(a,2),d=s[0],p=s[1],h=(0,c.useState)(!1),g=(0,o.Z)(h,2),b=g[0],j=g[1],k=(0,C.uI)({accept:"image/*",onDrop:function(e){p(e[0]),j(!1)}}),y=k.getRootProps,_=k.getInputProps,E=k.isDragActive,O=function(){var a=(0,i.Z)((0,t.Z)().mark((function a(r){var i;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=new FormData,console.log("Selected File:",d),d?i.append("image",d):console.log("No file selected"),{headers:{"Content-Type":"multipart/form-data"}},j(!0),a.prev=5,a.next=8,e(S(i));case 8:B.Am.success("Avatar Added Successfully!",{}),e(w()),n.push("/avatar/avatar-list"),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),console.error("Error adding avatar:",a.t0),B.Am.error("Failed to add avatar. Please try again later.",{});case 17:return a.prev=17,j(!1),a.finish(17);case 20:case"end":return a.stop()}}),a,null,[[5,13,17,20]])})));return function(e){return a.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(B.Ix,{position:"top-center",theme:"colored",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,m.jsxs)(I,{children:[(0,m.jsxs)(f.Z,{sx:{mb:2,pl:1},variant:"contained",color:"primary",onClick:function(){n.goBack()},children:[(0,m.jsx)(D.Z,{"aria-label":"ArrowBackIcon","aria-haspopup":"true"}),"Back"]}),(0,m.jsx)(l.Z,{spacing:3,children:(0,m.jsx)(x,{title:"Add New Avatar",children:(0,m.jsx)(Z.J9,{onSubmit:O,enableReinitialize:!0,initialValues:F,validationSchema:R,children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var n=e.handleSubmit;return(0,m.jsxs)(P,{onSubmit:n,children:[(0,m.jsx)(v.ZP,{container:!0,spacing:3,children:(0,m.jsx)(v.ZP,{item:!0,sm:6,xs:12,children:(0,m.jsx)(u.Z,{flex:1,children:(0,m.jsxs)("div",(0,r.Z)((0,r.Z)({style:{border:"2px dashed #aaa",padding:"12px",textAlign:"center"}},y()),{},{children:[(0,m.jsx)("input",(0,r.Z)({type:"file",name:"image"},_())),E?(0,m.jsx)("p",{children:"Drop the image file here ..."}):(0,m.jsx)("b",{children:"Drag and drop an image file here, or click to select file"})]}))})})}),(0,m.jsx)(f.Z,{type:"submit",color:"primary",variant:"contained",sx:{mb:2,px:4},disabled:b,style:{marginTop:"10px"},children:b?"Uploading...":"Add Avatar"})]})}})})})]})]})}}}]);
//# sourceMappingURL=2112.195b7aa0.chunk.js.map