"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6583],{43691:function(e,t,a){a.d(t,{eJ:function(){return s}});var n=a(74569),i=a.n(n),r=a(40077),s=function(e){return function(t){i().post(r._+"/event/",e).then((function(e){t({type:"UPDATE_EVENT",payload:e.data})})).catch((function(e){console.error("Error updating event:",e)}))}}},19391:function(e,t,a){var n=a(57621),i=a(93457),r=a(52791),s=a(80184),l=(0,i.Z)(n.Z)((function(){return{height:"100%",padding:"20px 24px"}})),o=(0,i.Z)("div")((function(e){return{fontSize:"1.2rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!e.subtitle&&"16px"}}));t.Z=function(e){var t=e.children,a=e.title,n=e.subtitle;e.icon;return(0,s.jsxs)(l,{elevation:6,children:[(0,s.jsx)(o,{subtitle:n,children:a}),n&&(0,s.jsx)(r.Z,{sx:{mb:2},children:n}),t]})}},66583:function(e,t,a){a.r(t);var n=a(74165),i=a(15861),r=a(4942),s=a(1413),l=a(70885),o=a(72791),d=a(16030),u=a(19598),m=a(66934),c=a(36151),p=a(36314),f=a(61889),v=a(19391),h=a(67394),g=a(21686),x=a(10838),y=a(43691),_=a(72426),b=a.n(_),E=a(75985),N=(a(5462),a(68639),a(80184)),Z=(0,m.ZP)(x.bM)((function(e){e.theme;return{width:"100%",marginBottom:"16px"}})),j=(0,m.ZP)("div")((function(e){e.theme;return{margin:"30px"}}));t.default=function(){var e=(0,d.I0)(),t=(0,u.k6)(),a=(0,u.TH)().state,m=a.subscriber,_=(0,o.useState)(null),q=(0,l.Z)(_,2),P=q[0],T=q[1],C=(0,o.useState)(null),W=(0,l.Z)(C,2),k=W[0],M=W[1];(0,o.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){T(e.coords.latitude),M(e.coords.longitude)}),(function(e){console.log(e.message)})):console.log("Geolocation is not supported by this browser.")}),[]);var S=(0,o.useState)({event_name:m.event_name||"",description:m.description||"",start_time:b()(m.start_time,"HH:mm").format("HH:mm")||"",end_time:b()(m.end_time,"HH:mm").format("HH:mm")||"",event_date:b()(m.event_date).format("YYYY-MM-DD"),address:m.address||"",max_players:m.max_players||"",location_hint:m.location_hint||"",location:{latitude:P,longitude:k}}),H=(0,l.Z)(S,2),z=H[0],w=H[1];console.log("Event Edit Data:",z),(0,o.useEffect)((function(){return x.WS.addValidationRule("isNameNotEmpty",(function(e){return"string"===typeof e&&0!==e.trim().length})),x.WS.addValidationRule("isNumber",(function(e){return!isNaN(e)})),function(){x.WS.removeValidationRule("isNumber"),x.WS.removeValidationRule("isNameNotEmpty")}}),[]);var A=function(e){var t=e.target,a=t.name,n=t.value;w((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},a,n))}))},D=function(){var t=(0,i.Z)((0,n.Z)().mark((function t(i){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),t.prev=1,t.next=4,e((0,y.eJ)(a));case 4:E.Am.success("Event Added Successfully!"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("Error adding event:",t.t0),E.Am.error("Failed to add event. Please try again later.");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,N.jsxs)("div",{children:[(0,N.jsx)(E.Ix,{position:"top-center",theme:"colored",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,N.jsxs)(j,{children:[(0,N.jsxs)(c.Z,{sx:{mb:2,pl:1},variant:"contained",color:"primary",onClick:function(){t.goBack()},children:[(0,N.jsx)(h.Z,{"aria-label":"ArrowBackIcon","aria-haspopup":"true"}),"Back"]}),(0,N.jsx)(p.Z,{spacing:3,children:(0,N.jsx)(v.Z,{title:"Add New Event",children:(0,N.jsxs)(x.WS,{onSubmit:D,onError:function(){return null},children:[(0,N.jsx)(f.ZP,{container:!0,spacing:6,children:(0,N.jsxs)(f.ZP,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[(0,N.jsx)(Z,{type:"text",fullWidth:!0,size:"small",name:"event_name",id:"event_name",value:z.event_name,onChange:A,label:"Event name",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,N.jsx)(Z,{type:"text",fullWidth:!0,size:"small",name:"description",id:"description",value:z.description,onChange:A,label:"Description",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,N.jsx)(Z,{type:"time",fullWidth:!0,size:"small",name:"start_time",id:"start_time",value:z.start_time,onChange:A,label:"Start Time",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,N.jsx)(Z,{type:"time",fullWidth:!0,size:"small",name:"end_time",id:"end_time",value:z.end_time,onChange:A,label:"End Time",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,N.jsx)(Z,{type:"date",fullWidth:!0,size:"small",name:"event_date",id:"event_date",value:z.event_date,onChange:A,label:"Event Date",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,N.jsx)(Z,{type:"number",fullWidth:!0,size:"small",name:"max_players",id:"max_players",value:z.max_players,onChange:A,label:"Max players",validators:["required","isNumber"],errorMessages:["This field is required","Please enter a valid max players"]}),(0,N.jsx)(Z,{fullWidth:!0,size:"small",name:"address",id:"address",value:z.address,onChange:A,label:"Address",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]}),(0,N.jsx)(Z,{fullWidth:!0,size:"small",name:"location_hint",id:"location_hint",value:z.location_hint,onChange:A,label:"Location Hint",validators:["required","isNameNotEmpty"],errorMessages:["This field is required","Please enter a valid full name"]})]})}),(0,N.jsxs)(c.Z,{color:"primary",variant:"contained",type:"submit",children:[(0,N.jsx)(g.Z,{"aria-label":"send","aria-haspopup":"true"}),"Update Event"]})]})})})]})]})}},68639:function(){}}]);
//# sourceMappingURL=6583.a434f2ca.chunk.js.map